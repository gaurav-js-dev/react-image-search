{"version":3,"sources":["store/reducers/errorReducer.ts","components/common/Error/Error.tsx","components/common/Loader/Loader.tsx","components/Header/Header.tsx","store/reducers/imagesReducer.ts","components/HomePage/components/ImageList/ImageList.tsx","components/HomePage/components/ImageSearch/ImageSearch.tsx","components/HomePage/HomePage.tsx","code/api.ts","store/reducers/loadingReducer.ts","store/sagas/imageSaga.ts","store/reducers/index.ts","store/reducers/initialState.ts","App.tsx","store/index.ts","index.tsx"],"names":["types","initialState","message","code","undefined","setError","error","type","payload","errorReducer","state","action","Error","dispatch","useDispatch","errorMessage","useSelector","s","className","data-testid","role","data-dismiss","aria-label","onClick","aria-hidden","Loader","loader","isLoading","Header","loadMoreImages","fetchImagesSearchData","query","imagesList","page","searchText","imagesReducer","map","image","url","urls","small","likes","id","height","width","ImageList","images","fetchImages","useCallback","useEffect","fetchSearchImages","noImages","isEmpty","loadNextImages","key","src","alt","ImageSearch","useState","inputSearch","setInputSearch","handleSearch","autoComplete","name","placeholder","onKeyDown","e","target","value","blur","onChange","HomePage","BASE_URL","SEARCH_URL","getImages","axios","get","searchImage","search","showLoader","hideLoader","loadingReducer","dispatchError","fetchImagesList","imageSaga","getPage","response","put","status","data","errors","select","call","results","takeEvery","imagesTypes","rootReducer","combineReducers","imagesState","loaderState","errorState","App","store","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducers","applyMiddleware","run","configureStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.097dc03a.chunk.js","sourcesContent":["export const types = {\r\n  SET_ERROR: 'SET_ERROR'\r\n};\r\n\r\nexport type IError = {\r\n  message: string;\r\n  code: number | undefined;\r\n};\r\n\r\nexport const initialState: IError = {\r\n  message: '',\r\n  code: undefined\r\n};\r\n\r\ntype SetErrorAction = { type: string; payload: IError };\r\ntype SetError = (error: IError) => SetErrorAction;\r\n\r\nexport const setError: SetError = error => ({\r\n  type: types.SET_ERROR,\r\n  payload: error\r\n});\r\n\r\nexport const clearError = (): SetErrorAction => setError(initialState);\r\n\r\nconst errorReducer = (state: IError = initialState, action: any) => {\r\n  if (action.type === types.SET_ERROR) {\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    };\r\n  } else return state;\r\n};\r\n\r\nexport default errorReducer;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { clearError } from 'src/store/reducers/errorReducer';\r\nimport { IReduxState } from 'src/store/reducers/initialState';\r\n\r\nconst Error = () => {\r\n  const dispatch = useDispatch();\r\n  const errorMessage = useSelector((s: IReduxState) => s.error.message);\r\n\r\n  if (!errorMessage) return null;\r\n  return (\r\n    <div className=\"Error d-flex justify-content-center mt-4\" data-testid=\"Error\">\r\n      <div className=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n        <p className=\"m-0\">\r\n          Oops! there is an error. <br />\r\n          {errorMessage}\r\n        </p>\r\n        <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={() => dispatch(clearError())}>\r\n          <span aria-hidden=\"true\" data-testid=\"close\">\r\n            &times;\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import './Loader.scss';\r\n\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { IReduxState } from 'src/store/reducers/initialState';\r\n\r\nconst Loader = () => {\r\n  const isLoading = useSelector((s: IReduxState) => s.loader.isLoading);\r\n  if (!isLoading) return null;\r\n  return (\r\n    <div className=\"Loader d-flex flex-column justify-content-center align-items-center text-center\">\r\n      <div className=\"Loader__spinner spinner-border text-dark\" role=\"status\" />\r\n      <h1>Loading</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import './Header.scss';\r\n\r\nimport React from 'react';\r\n\r\nconst Header = () => (\r\n  <header>\r\n    {' '}\r\n    <span role=\"img\" aria-label=\"camera\">\r\n      📸\r\n    </span>{' '}\r\n    Imagica Image Search Engine!\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n","export const types = {\r\n  FETCH_IMAGES_LIST: 'FETCH_IMAGES_LIST',\r\n  SET_IMAGES_LIST: 'SET_IMAGES_LIST',\r\n  LOAD_MORE_IMAGES: 'LOAD_MORE_IMAGES',\r\n  SET_SEARCH_TEXT: 'SET_SEARCH_TEXT',\r\n  FETCH_IMAGE_SEARCH_DATA: 'FETCH_USER_SEARCH_DATA',\r\n  SET_IMAGE_SEARCH_DATA: 'SET_USER_SEARCH_DATA',\r\n  CLEAR_IMAGES_LIST: 'CLEAR_IMAGES_LIST'\r\n};\r\n\r\nexport interface IImages {\r\n  url: string;\r\n  likes: string;\r\n  id: string;\r\n  width: string;\r\n  height: string;\r\n}\r\n\r\nexport interface IImagesState {\r\n  imagesList: IImages[];\r\n  page: number;\r\n  searchText: string;\r\n}\r\n\r\nexport type FetchImagesListAction = { type: string };\r\ntype FetchImagesList = () => FetchImagesListAction;\r\nexport const fetchImagesList: FetchImagesList = () => ({\r\n  type: types.FETCH_IMAGES_LIST\r\n});\r\n\r\nexport type LoadMoreImagesAction = { type: string };\r\ntype LoadMoreImages = () => LoadMoreImagesAction;\r\nexport const loadMoreImages: LoadMoreImages = () => ({\r\n  type: types.LOAD_MORE_IMAGES\r\n});\r\n\r\nexport type SetImagesListAction = { type: string; payload: IImages[] };\r\ntype SetImagesList = (imagesList: IImages[]) => SetImagesListAction;\r\nexport const setImagesList: SetImagesList = (imagesList: IImages[]) => ({\r\n  type: types.SET_IMAGES_LIST,\r\n  payload: imagesList\r\n});\r\n\r\nexport type FetchImagesSearchDataAction = { type: string; payload: string };\r\ntype FetchImagesSearchData = (query: string) => FetchImagesSearchDataAction;\r\nexport const fetchImagesSearchData: FetchImagesSearchData = query => ({\r\n  type: types.FETCH_IMAGE_SEARCH_DATA,\r\n  payload: query\r\n});\r\n\r\nexport type SetImageSearchDataAction = { type: string; payload: IImages[] };\r\ntype SetImageSearchData = (imagesList: IImages[]) => SetImageSearchDataAction;\r\nexport const setImageSearchData: SetImageSearchData = imagesList => {\r\n  return {\r\n    type: types.SET_IMAGE_SEARCH_DATA,\r\n    payload: imagesList\r\n  };\r\n};\r\n\r\nexport type ClearImagesListAction = { type: string };\r\ntype ClearImagesList = () => ClearImagesListAction;\r\nexport const clearImagesList: ClearImagesList = () => ({\r\n  type: types.CLEAR_IMAGES_LIST\r\n});\r\n\r\nexport const initialState: IImagesState = {\r\n  imagesList: [],\r\n  page: 1,\r\n  searchText: ''\r\n};\r\n\r\ntype Actions = SetImagesListAction | FetchImagesSearchDataAction | SetImageSearchDataAction;\r\n\r\nconst imagesReducer = (state: IImagesState = initialState, action: Actions) => {\r\n  const { payload } = action;\r\n  switch (action.type) {\r\n    case types.SET_IMAGES_LIST:\r\n      return {\r\n        ...state,\r\n        imagesList: [\r\n          ...state.imagesList,\r\n          ...(payload as IImages[]).map((image: any) => ({\r\n            url: image.urls.small,\r\n            likes: image.likes,\r\n            id: image.id,\r\n            height: image.height,\r\n            width: image.width\r\n          }))\r\n        ]\r\n      };\r\n\r\n    case types.LOAD_MORE_IMAGES:\r\n      return {\r\n        ...state,\r\n        page: state.page + 1\r\n      };\r\n\r\n    case types.FETCH_IMAGE_SEARCH_DATA:\r\n      return {\r\n        ...state,\r\n        searchText: payload as string\r\n      };\r\n\r\n    case types.SET_IMAGE_SEARCH_DATA:\r\n      return {\r\n        ...state,\r\n        imagesList: [\r\n          ...state.imagesList,\r\n          ...(payload as IImages[]).map((image: any) => ({\r\n            url: image.urls.small,\r\n            likes: image.likes,\r\n            id: image.id,\r\n            height: image.height,\r\n            width: image.width\r\n          }))\r\n        ]\r\n      };\r\n\r\n    case types.CLEAR_IMAGES_LIST:\r\n      return {\r\n        ...state,\r\n        imagesList: initialState.imagesList\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default imagesReducer;\r\n","import isEmpty from 'lodash/isEmpty';\r\nimport React, { useCallback, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchImagesList, fetchImagesSearchData, IImages, loadMoreImages } from 'src/store/reducers/imagesReducer';\r\nimport { IReduxState } from 'src/store/reducers/initialState';\r\nimport './ImageList.scss';\r\n\r\nconst ImageList = () => {\r\n  const images = useSelector((s: IReduxState) => s.images.imagesList);\r\n  const searchText = useSelector((s: IReduxState) => s.images.searchText);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const fetchImages = useCallback(() => {\r\n    dispatch(fetchImagesList());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    fetchImages();\r\n  }, [fetchImages]);\r\n\r\n  const fetchSearchImages = useCallback(() => {\r\n    dispatch(loadMoreImages());\r\n    dispatch(fetchImagesSearchData(searchText));\r\n  }, [searchText, dispatch]);\r\n\r\n  const noImages = isEmpty(images);\r\n\r\n  const loadNextImages = useCallback(() => {\r\n    dispatch(loadMoreImages());\r\n    fetchImages();\r\n  }, [dispatch, fetchImages]);\r\n\r\n  return (\r\n    <div className=\"container py-4\">\r\n      <div className=\"row\">\r\n        {images.map((image: IImages) => (\r\n          <div className=\"col-lg-4 text-center \" key={image.id}>\r\n            <span className=\"stats\">{`${image.likes} 🧡`}</span>\r\n            <img className=\"py-1\" height={400} width={400} src={image.url} alt={image.url} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"text-center py-4\">\r\n        {noImages && <p>No Images Found !!</p>}\r\n        {!noImages && (\r\n          <button className=\"btn btn-dark btn-md\" onClick={searchText ? fetchSearchImages : loadNextImages}>\r\n            Show More..\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageList;\r\n","import React, { useCallback, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { clearImagesList, fetchImagesSearchData } from 'src/store/reducers/imagesReducer';\r\nimport './ImageSearch.scss';\r\n\r\nconst ImageSearch = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [inputSearch, setInputSearch] = useState('');\r\n\r\n  const handleSearch = useCallback(\r\n    (searchText: string) => {\r\n      dispatch(clearImagesList());\r\n      dispatch(fetchImagesSearchData(searchText));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === 'Enter') {\r\n      const { value: searchText } = e.target as HTMLInputElement;\r\n      handleSearch(searchText);\r\n      (e.target as HTMLInputElement).blur();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"ImageSearch\">\r\n      <div className=\"container mt-2\">\r\n        <div className=\"input-group\">\r\n          <input\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            name=\"search\"\r\n            className=\"form-control\"\r\n            id=\"search\"\r\n            placeholder=\"Search for Images\"\r\n            onKeyDown={handleKeyDown}\r\n            onChange={e => setInputSearch(e.target.value)}\r\n          />\r\n          <button className=\"btn btn-dark\" onClick={() => handleSearch(inputSearch)}>\r\n            <span role=\"img\" aria-label=\"search\">\r\n              🔍\r\n            </span>\r\n            Search\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageSearch;\r\n","import React from 'react';\r\nimport ImageList from './components/ImageList';\r\nimport ImageSearch from './components/ImageSearch';\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <section className=\"HomePage\">\r\n      <ImageSearch />\r\n      <ImageList />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import axios from 'axios';\r\n\r\nconst key = '?client_id=eVds9XQ51U2XJR5eUixrQUKhKqHXiLocNllQRpWHjvQ';\r\n\r\nexport const BASE_URL = `https://api.unsplash.com/photos/${key}&per_page=6`;\r\nexport const SEARCH_URL = `https://api.unsplash.com/search/photos/${key}&per_page=6&query=`;\r\n\r\nexport const getImages = (page: number) => {\r\n  const url = `${BASE_URL}&page=${page}`;\r\n  return axios.get(url);\r\n};\r\n\r\nexport const searchImage = (search: string, page: number) => {\r\n  const url = `${SEARCH_URL}&query=${search}&page=${page}`;\r\n  return axios.get(url);\r\n};\r\n","export const types = {\r\n  SHOW_LOADER: 'SHOW_LOADER',\r\n  HIDE_LOADER: 'HIDE_LOADER'\r\n};\r\n\r\nexport interface ILoadingState {\r\n  isLoading: boolean;\r\n}\r\n\r\ntype ShowLoaderAction = { type: string };\r\ntype ShowLoader = () => ShowLoaderAction;\r\nexport const showLoader: ShowLoader = () => ({\r\n  type: types.SHOW_LOADER\r\n});\r\n\r\ntype HideLoaderAction = { type: string };\r\ntype HideLoader = () => HideLoaderAction;\r\nexport const hideLoader: HideLoader = () => ({\r\n  type: types.HIDE_LOADER\r\n});\r\n\r\ntype Actions = ShowLoaderAction | HideLoaderAction;\r\n\r\nexport const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nconst loadingReducer = (state: ILoadingState = initialState, action: Actions) => {\r\n  switch (action.type) {\r\n    case types.SHOW_LOADER:\r\n      return {\r\n        ...state,\r\n        isLoading: true\r\n      };\r\n\r\n    case types.HIDE_LOADER:\r\n      return {\r\n        ...state,\r\n        isLoading: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default loadingReducer;\r\n","import { AxiosError } from 'axios';\r\nimport { call, put, select, takeEvery } from 'redux-saga/effects';\r\nimport { getImages, searchImage } from 'src/code/api';\r\nimport { IReduxState } from 'src/store/reducers/initialState';\r\n\r\nimport { setError } from '../reducers/errorReducer';\r\nimport { setImagesList, types as imagesTypes, setImageSearchData, FetchImagesSearchDataAction } from '../reducers/imagesReducer';\r\nimport { hideLoader, showLoader } from '../reducers/loadingReducer';\r\n\r\nexport const getPage = (state: IReduxState) => state.images.page;\r\n\r\nfunction* dispatchError(error: AxiosError) {\r\n  const { response } = error;\r\n  yield put(setError({ code: response?.status, message: response?.data.errors }));\r\n  yield put(hideLoader());\r\n}\r\n\r\nfunction* fetchImagesList() {\r\n  try {\r\n    const page = yield select(getPage);\r\n    yield put(showLoader());\r\n    const response = yield call(getImages, page);\r\n    yield put(setImagesList(response.data));\r\n    yield put(hideLoader());\r\n  } catch (error) {\r\n    yield call(dispatchError, error);\r\n  }\r\n}\r\n\r\nfunction* fetchImagesSearchData(action: FetchImagesSearchDataAction) {\r\n  try {\r\n    const page = yield select(getPage);\r\n    yield put(showLoader());\r\n    const response = yield call(searchImage, action.payload, page);\r\n    yield put(setImageSearchData(response.data.results));\r\n    yield put(hideLoader());\r\n  } catch (error) {\r\n    yield call(dispatchError, error);\r\n  }\r\n}\r\n\r\nexport default function* imageSaga() {\r\n  yield takeEvery(imagesTypes.FETCH_IMAGES_LIST, fetchImagesList);\r\n  yield takeEvery(imagesTypes.FETCH_IMAGE_SEARCH_DATA, fetchImagesSearchData);\r\n}\r\n","import { combineReducers } from 'redux';\r\n\r\nimport errorReducer from './errorReducer';\r\nimport imagesReducer from './imagesReducer';\r\nimport { IReduxState } from './initialState';\r\nimport loadingReducer from './loadingReducer';\r\n\r\nexport const rootReducer: any = {\r\n  images: imagesReducer,\r\n  loader: loadingReducer,\r\n  error: errorReducer\r\n};\r\n\r\nexport default combineReducers<IReduxState>(rootReducer);\r\n","import cloneDeep from 'lodash/cloneDeep';\r\n\r\nimport { IError, initialState as errorState } from './errorReducer';\r\nimport { IImagesState, initialState as imagesState } from './imagesReducer';\r\nimport { ILoadingState, initialState as loaderState } from './loadingReducer';\r\n\r\nexport interface IReduxState {\r\n  images: IImagesState;\r\n  loader: ILoadingState;\r\n  error: IError;\r\n}\r\n\r\nconst initialState: IReduxState = {\r\n  images: imagesState,\r\n  loader: loaderState,\r\n  error: errorState\r\n};\r\n\r\nexport const getInitialState = () => cloneDeep(initialState);\r\n\r\nexport default initialState;\r\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport Error from 'src/components/common/Error';\nimport Loader from 'src/components/common/Loader';\nimport Header from 'src/components/Header';\nimport HomePage from 'src/components/HomePage';\nimport configureStore from 'src/store';\n\nconst App = () => {\n  const store = configureStore();\n  return (\n    <Provider store={store}>\n      <Header />\n      <Loader />\n      <Error />\n      <HomePage />;\n    </Provider>\n  );\n};\n\nexport default App;\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport imageSaga from './sagas/imageSaga';\r\nimport reducers from './reducers';\r\nimport initialState from './reducers/initialState';\r\n\r\nexport default function configureStore() {\r\n  const sagaMiddleware = createSagaMiddleware();\r\n  const composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n  const store = createStore(reducers, initialState, composeEnhancers(applyMiddleware(sagaMiddleware)));\r\n  sagaMiddleware.run(imageSaga);\r\n  return store;\r\n}\r\n","import './styles/main.scss';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}